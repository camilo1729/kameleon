global:
 #
 # Where Kameleon stores tmp files and appliances
 workdir_base: /var/tmp/kameleon
 # 
 # Debian specific
 distrib: debian
 debian_version_name: squeeze
 #debian_version_name: wheezy
 distrib_repository: http://ftp.fr.debian.org/debian/
 output_environment_file_system_type: ext4
 #
 #
 include_dir: /var/lib/kameleon/scripts
 #lustre_g5kutils_repository: http://oar.imag.fr/debian/lustre/
 #
 # Architecture
 arch: amd64
 kernel_arch: "amd64"
 #
 # Extra packages to install on the minimal base system
 extra_packages: "vim less screen strace bzip2 openssh-server rsync gnupg locales debian-keyring console-tools mingetty lsof perl e2fsprogs htop subversion git git-svn sudo"
 #
 # Network configuration
 network_hostname: kameleon
 #
steps:
 - debian_check_deps
 - check_deps:
   - rsync
   - building_appliance
   - building_kvm_images
 - bootstrap
 - system_config
 - root_passwd
 - mount_proc
 - software_install:
   - extra_packages
 - chef/chef_install
 - umount_proc
 - kernel_install
###############################
 - autologin
 - fix_locales
 - strip
 - build_appliance_custom_fs:
   - clean_udev
   - create_raw_image
   - create_nbd_device
   - mkfs
   - mount_image
   - copy_system_tree
   - install_grub
   - umount_image
   - save_as_raw
   - save_as_qcow2
 - save_as_g5k
# - clean

